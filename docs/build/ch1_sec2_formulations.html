<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Problem Formulations · EGRIP.jl</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-367975-10', 'auto');
ga('send', 'pageview', {'page': location.pathname + location.search + location.hash});
</script><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">EGRIP.jl</span></div><form class="docs-search" action="search.html"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="index.html">Home</a></li><li><span class="tocitem">Manual</span><ul><li><a class="tocitem" href="ch1_sec1_install.html">Installation</a></li><li class="is-active"><a class="tocitem" href="ch1_sec2_formulations.html">Problem Formulations</a><ul class="internal"><li><a class="tocitem" href="#Sets,-Parameters-and-Variables-1"><span>Sets, Parameters and Variables</span></a></li><li><a class="tocitem" href="#Power-Flow-Model-1"><span>Power Flow Model</span></a></li><li><a class="tocitem" href="#Nodal-Constraint-Model-1"><span>Nodal Constraint Model</span></a></li><li><a class="tocitem" href="#Generator-Cranking-Model-1"><span>Generator Cranking Model</span></a></li><li><a class="tocitem" href="#Generator-Dispatch-Model-1"><span>Generator Dispatch Model</span></a></li><li><a class="tocitem" href="#Load-Dispatch-Model-1"><span>Load Dispatch Model</span></a></li></ul></li><li><a class="tocitem" href="ch1_sec3_advanced_algorithm.html">Advanced Algorithms</a></li><li><a class="tocitem" href="ch1_sec4_workflow.html">Restoration Workflow</a></li></ul></li><li><span class="tocitem">Library</span><ul><li><a class="tocitem" href="ch2_sec1_library_public.html">Public Library</a></li><li><a class="tocitem" href="ch2_sec2_library_internal.html">Internal Library</a></li></ul></li><li><span class="tocitem">Developer</span><ul><li><a class="tocitem" href="ch3_sec1_development_overview.html">Development Overview</a></li><li><a class="tocitem" href="ch3_sec2_dev_code_loading.html">Code Loading</a></li><li><a class="tocitem" href="ch3_sec3_dev_package_org.html">Package Organization</a></li></ul></li><li><span class="tocitem">Research</span><ul><li><a class="tocitem" href="ch4_sec1_literature.html">Literature Review</a></li><li><a class="tocitem" href="ch4_sec2_benchmark.html">Benchmark Testing</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Manual</a></li><li class="is-active"><a href="ch1_sec2_formulations.html">Problem Formulations</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href="ch1_sec2_formulations.html">Problem Formulations</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/whoiszyc/EGRIP.jl/blob/master/docs/src/ch1_sec2_formulations.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Mathematical-Model-1"><a class="docs-heading-anchor" href="#Mathematical-Model-1">Mathematical Model</a><a class="docs-heading-anchor-permalink" href="#Mathematical-Model-1" title="Permalink"></a></h1><ul><li><a href="ch1_sec2_formulations.html#Power-Flow-Model-1">Power Flow Model</a></li><li><a href="ch1_sec2_formulations.html#Nodal-Constraint-Model-1">Nodal Constraint Model</a></li><li><a href="ch1_sec2_formulations.html#Generator-Cranking-Model-1">Generator Cranking Model</a></li><li><a href="ch1_sec2_formulations.html#Generator-Dispatch-Model-1">Generator Dispatch Model</a></li><li><a href="ch1_sec2_formulations.html#Load-Dispatch-Model-1">Load Dispatch Model</a></li></ul><h2 id="Sets,-Parameters-and-Variables-1"><a class="docs-heading-anchor" href="#Sets,-Parameters-and-Variables-1">Sets, Parameters and Variables</a><a class="docs-heading-anchor-permalink" href="#Sets,-Parameters-and-Variables-1" title="Permalink"></a></h2><div>\[\begin{align*}
%
\mbox{Indices and Sets:} &amp;  \\
&amp; i,j\in N \mbox{ - buses} \\
&amp; b\in B \mbox{ - branches} \\
&amp; g\in G \mbox{ - generators} \\
&amp; l\in L \mbox{ - loads} \\
%
\mbox{Parameters:} &amp;  \\
&amp; Pcr_{g} \quad\forall g \in G \mbox{ - generator cranking power: power needed for the unit to be normally functional}\\
&amp; Tcr_{g} \quad\forall g \in G \mbox{ - generator cranking time: time needed for the unit to be normally functional}\\
&amp; Krp_{g} \quad\forall g \in G \mbox{ - generator ramping rate} \\
%
\mbox{Binary Variables:} &amp;  \\
&amp; x_{ij,t} \mbox{ - status of line $ij$ at time $t$}\\
&amp; y_{g,t} \mbox{ - status of generator $g$ at time $t$}\\
&amp; u_{i,t} \mbox{ - status of bus $i$ at time $t$}\\
%
\mbox{Continuous Variables:} &amp;  \\
&amp; v_{i,t} \mbox{ - voltage of bus $i$ at time $t$}\\
&amp; a_{i,t} \mbox{ - relative angle of bus $i$ at time $t$}\\
&amp; vl_{ij,t} \mbox{ - supplementary variables for voltage of bus $i$ (connected to bus $j$) at time $t$}\\
&amp; vb_{i,t} \mbox{ - supplementary variables for voltage of bus $i$ at time $t$}\\
&amp; al_{ij,t} \mbox{ - supplementary variables for relative angle of bus $i$ (connected to bus $j$) at time $t$}\\
&amp; pl_{l,t} \mbox{ - active power of load $l$ at time $t$}\\
&amp; ql_{l,t} \mbox{ - reactive power of load $l$ at time $t$}\\
&amp; pg_{l,t} \mbox{ - active power of generator $g$ at time $t$}\\
&amp; qg_{l,t} \mbox{ - reactive power of generator $g$ at time $t$}\\
&amp; p_{bij,t} \mbox{ - active power flow of branch $b$ (bus $i$ and $j$) at time $t$}\\
&amp; q_{bij,t} \mbox{ - reactive power flow of branch $b$ (bus $i$ and $j$) at time $t$}\\
\end{align*}\]</div><h2 id="Power-Flow-Model-1"><a class="docs-heading-anchor" href="#Power-Flow-Model-1">Power Flow Model</a><a class="docs-heading-anchor-permalink" href="#Power-Flow-Model-1" title="Permalink"></a></h2><p>The formulations of branch constraints are implemented in function <code>form_branch</code>.</p><h3 id="AC-power-flow-1"><a class="docs-heading-anchor" href="#AC-power-flow-1">AC power flow</a><a class="docs-heading-anchor-permalink" href="#AC-power-flow-1" title="Permalink"></a></h3><p>The typical π-circuit line model with an ideal transformer is used to model the standard &quot;AC&quot; power flow: <img src="fig_pi_line.png" alt="Line model"/></p><p>The Y-bus can be formulated as follows: <img src="fig_Y_bus.png" alt="Y bus"/></p><p>Three representations of AC power flow can be found below: <img src="fig_ac_pf.png" alt="AC power flow"/></p><p>(Ref: Molzahn, Daniel K., and Ian A. Hiskens. &quot;A survey of relaxations and approximations of the power flow equations.&quot; <em>Foundations and Trends® in Electric Energy Systems</em> 4, no. 1-2 (2019): 1-221.)</p><h3 id="DC-power-flow-1"><a class="docs-heading-anchor" href="#DC-power-flow-1">DC power flow</a><a class="docs-heading-anchor-permalink" href="#DC-power-flow-1" title="Permalink"></a></h3><p>The standard &quot;DC&quot; approximation to AC power flow linearizes these equations by using the approximations <span>$v_{i}=v_{j}=1$</span>, <span>$sinα_{ij}=α_{ij}$</span>, <span>$cosα_{ij}=1$</span>, and <span>$b_{l}&gt;&gt;g_{l}=0$</span> yielding:</p><div>\[\begin{align*}
p_{ij}=B_{ij}α_{ij}
\end{align*}\]</div><h3 id="Linearized-AC-power-flow-1"><a class="docs-heading-anchor" href="#Linearized-AC-power-flow-1">Linearized AC power flow</a><a class="docs-heading-anchor-permalink" href="#Linearized-AC-power-flow-1" title="Permalink"></a></h3><p>Expanding the line flows about <span>$v_{i}=v_{j}=1$</span>, <span>$α_{ij}=0$</span> and making small-angle approximations <span>$sinα_{ij}=α_{ij}$</span> and <span>$cosα_{ij}=1$</span> yielding linearized AC power flow</p><div>\[\begin{align*}
&amp; p_{ij,t}=G_{ii}(2v_{i,t}-1) + G_{ij}(v_{i,t} + v_{j,t}-1) + B_{ij}\sinα_{ij}\\
&amp; q_{ij,t}=-B_{ii}(2v_{i,t}-1) - B_{ij}(v_{i,t} + v_{j,t}-1) + G_{ij}\cosα_{ij}\\
\end{align*}\]</div><p>where voltage and reactive power are retained.</p><p>(Ref: Trodden, Paul A., Waqquas Ahmed Bukhsh, Andreas Grothey, and Ken IM McKinnon. &quot;Optimization-based islanding of power networks using piecewise linear AC power flow.&quot; <em>IEEE Transactions on Power Systems</em> 29, no. 3 (2013): 1212-1220.)</p><h3 id="Linearized-AC-power-flow-with-bus-and-line-energization-1"><a class="docs-heading-anchor" href="#Linearized-AC-power-flow-with-bus-and-line-energization-1">Linearized AC power flow with bus and line energization</a><a class="docs-heading-anchor-permalink" href="#Linearized-AC-power-flow-with-bus-and-line-energization-1" title="Permalink"></a></h3><div>\[\begin{align*}
p_{bij,t}=G_{ii}(2vl_{ij,t}-x_{ij,t}) + G_{ij}(vl_{ij,t} + vl_{ji,t}-x_{ij,t}) + B_{ij}(al_{ij,t}-al_{ij,t})\\
q_{bij,t}=-B_{ii}(2vl_{ij,t}-x_{ij,t}) - B_{ij}(vl_{ij,t} + vl_{ji,t}-x_{ij,t}) + G_{ij}(al_{ij,t}-al_{ij,t})\\
\end{align*}\]</div><h2 id="Nodal-Constraint-Model-1"><a class="docs-heading-anchor" href="#Nodal-Constraint-Model-1">Nodal Constraint Model</a><a class="docs-heading-anchor-permalink" href="#Nodal-Constraint-Model-1" title="Permalink"></a></h2><p>The formulations of nodal constraints are implemented in function <code>form_nodal</code>.</p><ul><li>Voltage Constraint<ul><li>voltage deviation should be limited</li><li>voltage constraints are only activated if the associated line is energized</li></ul></li></ul><div>\[\begin{align*}
    &amp; v^{\min}_{i} \leq v_{i,t} \leq v^{\max}_{i}\\
    &amp; v^{\min}_{i}x_{ij,t} \leq vl_{ij,t} \leq v^{\max}_{i}x_{ij,t}\\
    &amp; v^{\min}_{j}x_{ij,t} \leq vl_{ji,t} \leq v^{\max}_{j}x_{ij,t}\\
    &amp; v_{i,t} - v^{\max}_{i}(1-x_{ij,t}) \leq vl_{ij,t} \leq v_{i,t} - v^{\min}_{i}(1-x_{ij,t})\\
    &amp; v_{j,t} - v^{\max}_{j}(1-x_{ij,t}) \leq vl_{ij,t} \leq v_{j,t} - v^{\min}_{j}(1-x_{ij,t})
\end{align*}\]</div><ul><li>Angle Difference Constraint<ul><li>angle difference should be limited</li><li>angle difference constraints are only activated if the associated line is energized</li></ul></li></ul><div>\[ \begin{align*}
     &amp; a^{\min}_{ij} \leq a_{i,t}-a_{j,t} \leq a^{\max}_{ij}\\
     &amp; a^{\min}_{ij}x_{ij,t} \leq al_{ij,t}-al_{ji,t} \leq a^{\max}_{ij}x_{ij,t}\\
     &amp; a_{i,t}-a_{j,t}-a^{\max}_{ij}(1-x_{ij,t}) \leq al_{ij,t}-al_{ji,t} \leq a_{i,t}-a_{j,t}-a^{\min}_{ij}(1-x_{ij,t})
 \end{align*}\]</div><ul><li>Generator and Bus Energizing Logics<ul><li>on-line generator cannot be shut down</li><li>bus should be energized before the connected genertor being on</li></ul></li></ul><div>\[\begin{align*}
 &amp; x_{ij,t} \geq x_{ij,t-1}\\
 &amp; u_{i,t} \geq x_{ij,t}\\
 &amp; u_{j,t} \geq x_{ij,t}
\end{align*}\]</div><ul><li>Bus Energized Constraints<ul><li>bus energized indicating generator energized</li><li>on-line buses cannot be shut down</li></ul></li></ul><div>\[\begin{align*}
&amp; v^{\min}u_{i,t} \leq vb_{i,t} \leq v^{\max}u_{i,t} \\
&amp; v_{i,t} - v^{\max}(1-u_{i,t}) \leq vb_{i,t} \leq v_{i,t} - v^{\min}(1-u_{i,t})\\
&amp; u_{g,t} = y_{g,t}\\
&amp; u_{i,t} \geq u_{i,t-1}
\end{align*}\]</div><ul><li>Nodal Power Balance Constraint</li></ul><div>\[\begin{align*}
&amp; \sum_{b\in i}p_{b,t}=\sum_{g\in i}pg_{g,t}-\sum_{l\in i}pl_{l,t}-Gs(2vb_{i,t}-u_{i,t})\\
&amp; \sum_{b\in i}q_{b,t}=\sum_{g\in i}qg_{g,t}-\sum_{l\in i}ql_{l,t}+Bs(2vb_{i,t}-u_{i,t})
\end{align*}\]</div><h2 id="Generator-Cranking-Model-1"><a class="docs-heading-anchor" href="#Generator-Cranking-Model-1">Generator Cranking Model</a><a class="docs-heading-anchor-permalink" href="#Generator-Cranking-Model-1" title="Permalink"></a></h2><p>The formulations of generator cranking constraints are implemented in function <code>form_bs_logic</code>.</p><p>The capacity curve for non-black start generator is simplifed and modeled as a piecewise linear function of time shown below.</p><p><img src="fig_gen_cranking.png" alt="Capacity curve"/></p><p>(Ref: Qiu, Feng, and Peijie Li. &quot;An integrated approach for power system restoration planning.&quot; <em>Proceedings of the IEEE</em> 105, no. 7 (2017): 1234-1252.)</p><p>Once a non-black start generator is on, that is, <span>$y_{g,t}=1$</span>, then it needs to absorb the cranking power for its corresponding cranking time. &quot;After&quot; the time step that this unit satisfies its cranking constraint, its power goes to zero; and from the next time step, it becomes a dispatchable generator</p><ul><li>set non-black start unit generation limits based on &quot;generator cranking constraint&quot;</li><li>cranking constraint states if generator g has absorb the cranking power for its corresponding cranking time, it can produce power</li></ul><p>Mathematically if there exist enough 1 for <span>$y_{g,t}=1$</span>, then enable this generator&#39;s generating capability. There will be the following scenarios</p><ul><li>(1) generator is off, then <span>$y_{g,t}-y_{g,t-Tcr_{g}} = 0$</span>, then <span>$pg_{g,t} = 0$</span></li><li>(2) generator is on but cranking time not satisfied, then <span>$y_{g,t} - y_{g,t-Tcr_g} = 1$</span>, then <span>$pg_{g,t} = -Pcr_g$</span></li><li>(3) generator is on and just satisfies the cranking time, then <span>$y_{g,t} - y_{g,t-Tcr_g} = 0$</span>, <span>$y_{g,t-Tcr_g-1}=0$</span>, then <span>$pg_{g,t} = 0$</span></li><li>(4) generator is on and bigger than satisfies the cranking time, then <span>$y_{g,t} - y_{g,t-Tcr_g} = 0$</span>, <span>$y_{g,t-Tcr_g-1}=1$</span>, then <span>$0 &lt;= pg_{g,t} &lt;= pg^{\max}_{g}$</span></li></ul><p>All scenarios can be formulated as follows:</p><div>\[\begin{align*}
&amp; pg^{\min}_{g} \leq pg_{g,t} \leq pg^{\max}_{g}\\
&amp; \text{ if }t &gt; Tcr_{g}+1\\
&amp; \quad\quad -Pcr_{g}(y_{g,t}-y_{g,Tcr_{g}}) \leq pg_{g,t} \leq pg^{\max}_{g}y_{g,t-Tcr_{g}-1}-Pcr_{g}(y_{g,t} - y_{g,t-Tcr_{g}}) \\
&amp; \text{ elseif }t \leq Tcr_{g}\\
&amp; \quad\quad pg_{g,t} = -Pcr_{g}y_{g,t}\\
&amp; \text{else }\\
&amp; \quad\quad pg_{g,t} = -Pcr_{g}(y_{g,t} - y_{g,1})
\end{align*}\]</div><h2 id="Generator-Dispatch-Model-1"><a class="docs-heading-anchor" href="#Generator-Dispatch-Model-1">Generator Dispatch Model</a><a class="docs-heading-anchor-permalink" href="#Generator-Dispatch-Model-1" title="Permalink"></a></h2><p>The formulations are implemented in function <code>form_gen_logic</code>.</p><ul><li>Generator ramping rate constraint</li></ul><div>\[\begin{align*}
-Krp_{g} \leq pg_{g,t}-pg_{g,t+1} \leq Krp_{g}
\end{align*}\]</div><ul><li>Black-start unit is determined by the cranking power</li></ul><div>\[\begin{align*}
y_{g,t}=1 \text{  if  } Pcr_{g}=0
\end{align*}\]</div><ul><li>On-line generators cannot be shut down</li></ul><div>\[\begin{align*}
y_{g,t} &lt;= y_{g,t+1}
\end{align*}\]</div><h2 id="Load-Dispatch-Model-1"><a class="docs-heading-anchor" href="#Load-Dispatch-Model-1">Load Dispatch Model</a><a class="docs-heading-anchor-permalink" href="#Load-Dispatch-Model-1" title="Permalink"></a></h2><p>The formulations are implemented in function <code>form_load_logic</code>.</p><ul><li>restored load cannot exceed its maximum values</li></ul><div>\[\begin{align*}
&amp; 0 \leq pl_{l,t} \leq pl^{\max}u_{l,t}\\
&amp; 0 \leq ql_{l,t} \leq ql^{\max}u_{l,t}\\
\end{align*}\]</div><ul><li>restored load cannot be shed</li></ul><div>\[\begin{align*}
&amp; pl_{l,t-1} \leq pl_{l,t}\\
&amp; ql_{l,t-1} \leq ql_{l,t}\\
\end{align*}\]</div></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="ch1_sec1_install.html">« Installation</a><a class="docs-footer-nextpage" href="ch1_sec3_advanced_algorithm.html">Advanced Algorithms »</a></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Monday 13 July 2020 16:54">Monday 13 July 2020</span>. Using Julia version 1.3.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
